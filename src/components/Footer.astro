<div class="p-8 bg-gray-50">
  <div class="mb-12 text-center">
    <h3 class="text-2xl font-semibold mb-4">En Instagram</h3>
    <div class="grid grid-cols-3 gap-4">
      <!-- Replace with Instagram images -->
      <div class="bg-gray-200 h-24 rounded"></div>
      <div class="bg-gray-200 h-24 rounded"></div>
      <div class="bg-gray-200 h-24 rounded"></div>
    </div>
  </div>

  <div id="contacto" class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
    <p class="text-xl font-semibold mb-4">Contacto</p>

    <form id="contact-form" method="POST" class="space-y-4">
      <label class="block">
        <span class="text-gray-700">Name</span>
        <input
          type="text"
          name="name"
          required
          class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        />
      </label>

      <label class="block">
        <span class="text-gray-700">Email</span>
        <input
          type="email"
          name="email"
          required
          class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        />
      </label>

      <label class="block">
        <span class="text-gray-700">Message</span>
        <textarea
          name="message"
          required
          class="mt-1 block w-full border border-gray-300 rounded-md p-2 h-24 focus:ring-2 focus:ring-blue-400 focus:outline-none"
        ></textarea>
      </label>

      <!-- Honeypot -->
      <input type="text" name="website" style="display:none" tabindex="-1" autocomplete="off" />

      <button
        type="submit"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md px-4 py-2 transition-colors"
      >
        Send
      </button>

      <p id="form-status" class="text-sm mt-2 text-gray-600"></p>
    </form>
  </div>
</div>

<script>
  const form = document.getElementById("contact-form");
  const statusEl = document.getElementById("form-status");

  form?.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusEl.textContent = "Sending...";

    const formData = new FormData(form);

    try {
      const res = await fetch("/api/contact", {
        method: "POST",
        body: formData,
      });

      const result = await res.json();

      if (result.success) {
        statusEl.textContent = "✅ Message sent successfully!";
        form.reset();
      } else {
        statusEl.textContent = "❌ Failed to send message. Please try again.";
      }
    } catch (err) {
      statusEl.textContent = "⚠️ An error occurred. Please try again later.";
    }
  });
</script>
